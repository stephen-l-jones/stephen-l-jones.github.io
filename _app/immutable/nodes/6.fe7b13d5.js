import{e as ve}from"../chunks/index.93323930.js";import{s as K,f as y,a as D,l as V,g as C,h as k,u as _e,c as I,m as j,d as m,k as S,i as z,v as g,C as x,n as L,z as X,j as $,D as ne,B as me,e as oe,E as be,p as ye,F as Ce}from"../chunks/scheduler.a3f1a7e3.js";import{S as Q,i as R,b as G,d as Z,m as H,a as N,t as A,e as J,g as he,c as pe,f as ke}from"../chunks/index.e3eb81c7.js";import{e as Y}from"../chunks/each.e59479a4.js";import{b as ie}from"../chunks/paths.3d9acbf7.js";import{C as Pe,P as Oe}from"../chunks/PageCard.9941c83d.js";import{t as Ee}from"../chunks/constants.d4577d7b.js";const Te=async({params:n,parent:e})=>{let s=(await e()).sources,r=(await e()).navPages,t=s.filter(a=>a.slug===n.caseId),l=r.find(a=>a.slug===n.caseId)||{slug:"",folder:"",name:"",title:"",subtitle:"",iref:""};if(t.length>0)return{pageSources:t,navPage:l};throw ve(404,"Not found")},Xe=Object.freeze(Object.defineProperty({__proto__:null,load:Te},Symbol.toStringTag,{value:"Module"}));function we(n){let e,s,r,t,l='<div class="AZ svelte-4visb">A</div> <div class="AZ svelte-4visb">Z</div>',a,c,o,d,h,i,v,B;return{c(){e=y("button"),s=y("div"),r=y("div"),t=y("div"),t.innerHTML=l,a=D(),c=y("div"),o=y("span"),d=V(n[1]),h=D(),i=V(n[0]),this.h()},l(P){e=C(P,"BUTTON",{});var w=k(e);s=C(w,"DIV",{style:!0});var F=k(s);r=C(F,"DIV",{style:!0});var T=k(r);t=C(T,"DIV",{style:!0,"data-svelte-h":!0}),_e(t)!=="svelte-15t2dzm"&&(t.innerHTML=l),a=I(T),c=C(T,"DIV",{style:!0});var f=k(c);o=C(f,"SPAN",{style:!0});var U=k(o);d=j(U,n[1]),U.forEach(m),h=I(f),i=j(f,n[0]),f.forEach(m),T.forEach(m),F.forEach(m),w.forEach(m),this.h()},h(){S(t,"display","table-cell"),S(t,"vertical-align","middle"),S(o,"font-size","1.2rem"),S(c,"display","table-cell"),S(c,"vertical-align","middle"),S(r,"display","table-row"),S(s,"white-space","nowrap")},m(P,w){z(P,e,w),g(e,s),g(s,r),g(r,t),g(r,a),g(r,c),g(c,o),g(o,d),g(c,h),g(c,i),v||(B=x(e,"click",n[2]),v=!0)},p(P,[w]){w&2&&L(d,P[1]),w&1&&L(i,P[0])},i:X,o:X,d(P){P&&m(e),v=!1,B()}}}function Se(n,e,s){let{sortOrder:r="ascending"}=e,{label:t}=e,l="ðŸ —";function a(){s(3,r=r==="ascending"?"descending":"ascending"),s(1,l=r==="ascending"?"ðŸ —":"ðŸ •")}return n.$$set=c=>{"sortOrder"in c&&s(3,r=c.sortOrder),"label"in c&&s(0,t=c.label)},[t,l,a,r]}class $e extends Q{constructor(e){super(),R(this,e,Se,we,K,{sortOrder:3,label:0})}}function Be(n){let e,s,r,t,l,a=n[0].media.toLocaleUpperCase()+"",c,o,d,h=n[0].headline+"",i,v,B,P,w=n[0].publisher+"",F,T,f,U=ce(n[0].date,[{day:"numeric"},{month:"short"},{year:"numeric"}])+"",u,_,O,q,b,M=n[0].tags.join(" â€¢ ")+"",W;return{c(){e=y("img"),r=D(),t=y("div"),l=y("p"),c=V(a),o=D(),d=y("p"),i=V(h),v=D(),B=y("p"),P=y("em"),F=V(w),T=D(),f=y("p"),u=V(U),_=D(),O=y("div"),q=D(),b=y("p"),W=V(M),this.h()},l(E){e=C(E,"IMG",{class:!0,src:!0,alt:!0}),r=I(E),t=C(E,"DIV",{class:!0});var p=k(t);l=C(p,"P",{class:!0});var ee=k(l);c=j(ee,a),ee.forEach(m),o=I(p),d=C(p,"P",{class:!0});var te=k(d);i=j(te,h),te.forEach(m),v=I(p),B=C(p,"P",{class:!0});var re=k(B);P=C(re,"EM",{});var se=k(P);F=j(se,w),se.forEach(m),re.forEach(m),T=I(p),f=C(p,"P",{class:!0});var le=k(f);u=j(le,U),le.forEach(m),_=I(p),O=C(p,"DIV",{style:!0}),k(O).forEach(m),q=I(p),b=C(p,"P",{class:!0});var ae=k(b);W=j(ae,M),ae.forEach(m),p.forEach(m),this.h()},h(){$(e,"class","source-card-image svelte-1suc0cu"),ne(e.src,s=(n[0].iref.match("^(http|data)")!==null?"":ie+"/img/")+n[0].iref)||$(e,"src",s),$(e,"alt","card"),$(l,"class","source-media svelte-1suc0cu"),$(d,"class","source-headline svelte-1suc0cu"),$(B,"class","source-publisher svelte-1suc0cu"),$(f,"class","source-date svelte-1suc0cu"),S(O,"flex-grow","1"),$(b,"class","source-tags svelte-1suc0cu"),$(t,"class","source-card-content svelte-1suc0cu")},m(E,p){z(E,e,p),z(E,r,p),z(E,t,p),g(t,l),g(l,c),g(t,o),g(t,d),g(d,i),g(t,v),g(t,B),g(B,P),g(P,F),g(t,T),g(t,f),g(f,u),g(t,_),g(t,O),g(t,q),g(t,b),g(b,W)},p(E,p){p&1&&!ne(e.src,s=(E[0].iref.match("^(http|data)")!==null?"":ie+"/img/")+E[0].iref)&&$(e,"src",s),p&1&&a!==(a=E[0].media.toLocaleUpperCase()+"")&&L(c,a),p&1&&h!==(h=E[0].headline+"")&&L(i,h),p&1&&w!==(w=E[0].publisher+"")&&L(F,w),p&1&&U!==(U=ce(E[0].date,[{day:"numeric"},{month:"short"},{year:"numeric"}])+"")&&L(u,U),p&1&&M!==(M=E[0].tags.join(" â€¢ ")+"")&&L(W,M)},d(E){E&&(m(e),m(r),m(t))}}}function De(n){let e,s;return e=new Pe({props:{href:n[0].href,target:"_blank",borderColor:n[1],$$slots:{default:[Be]},$$scope:{ctx:n}}}),{c(){G(e.$$.fragment)},l(r){Z(e.$$.fragment,r)},m(r,t){H(e,r,t),s=!0},p(r,[t]){const l={};t&1&&(l.href=r[0].href),t&2&&(l.borderColor=r[1]),t&5&&(l.$$scope={dirty:t,ctx:r}),e.$set(l)},i(r){s||(N(e.$$.fragment,r),s=!0)},o(r){A(e.$$.fragment,r),s=!1},d(r){J(e,r)}}}function ce(n,e){function s(r){return new Intl.DateTimeFormat("en",r).format(n)}return e.map(s).join(" ")}function Ie(n,e,s){let{source:r}=e,{borderColor:t="#d5d7db"}=e;return n.$$set=l=>{"source"in l&&s(0,r=l.source),"borderColor"in l&&s(1,t=l.borderColor)},[r,t]}class Ne extends Q{constructor(e){super(),R(this,e,Ie,De,K,{source:0,borderColor:1})}}function ue(n,e,s){const r=n.slice();return r[3]=e[s],r}function fe(n){let e,s;return e=new Ne({props:{source:n[3]}}),{c(){G(e.$$.fragment)},l(r){Z(e.$$.fragment,r)},m(r,t){H(e,r,t),s=!0},p(r,t){const l={};t&1&&(l.source=r[3]),e.$set(l)},i(r){s||(N(e.$$.fragment,r),s=!0)},o(r){A(e.$$.fragment,r),s=!1},d(r){J(e,r)}}}function ze(n){let e,s,r,t;s=new Oe({props:{navPage:n[1],pageType:"scenario",includeSubtitle:!0,borderColor:"#666666"}});let l=Y(n[0]),a=[];for(let o=0;o<l.length;o+=1)a[o]=fe(ue(n,l,o));const c=o=>A(a[o],1,1,()=>{a[o]=null});return{c(){e=y("ul"),G(s.$$.fragment),r=D();for(let o=0;o<a.length;o+=1)a[o].c();this.h()},l(o){e=C(o,"UL",{role:!0,class:!0});var d=k(e);Z(s.$$.fragment,d),r=I(d);for(let h=0;h<a.length;h+=1)a[h].l(d);d.forEach(m),this.h()},h(){$(e,"role","list"),$(e,"class","case-card-grid svelte-6zddwl")},m(o,d){z(o,e,d),H(s,e,null),g(e,r);for(let h=0;h<a.length;h+=1)a[h]&&a[h].m(e,null);t=!0},p(o,[d]){const h={};if(d&2&&(h.navPage=o[1]),s.$set(h),d&1){l=Y(o[0]);let i;for(i=0;i<l.length;i+=1){const v=ue(o,l,i);a[i]?(a[i].p(v,d),N(a[i],1)):(a[i]=fe(v),a[i].c(),N(a[i],1),a[i].m(e,null))}for(he(),i=l.length;i<a.length;i+=1)c(i);pe()}},i(o){if(!t){N(s.$$.fragment,o);for(let d=0;d<l.length;d+=1)N(a[d]);t=!0}},o(o){A(s.$$.fragment,o),a=a.filter(Boolean);for(let d=0;d<a.length;d+=1)A(a[d]);t=!1},d(o){o&&m(e),J(s),me(a,o)}}}function Fe(n,e,s){let r,{sources:t=[]}=e,{navPage:l}=e;return n.$$set=a=>{"sources"in a&&s(0,t=a.sources),"navPage"in a&&s(2,l=a.navPage)},n.$$.update=()=>{n.$$.dirty&4&&s(1,r={...l,slug:l.slug+"/scenario",folder:""})},[t,r,l]}class Ue extends Q{constructor(e){super(),R(this,e,Fe,ze,K,{sources:0,navPage:2})}}function Ve(n){let e,s,r,t;return{c(){e=y("button"),s=V(n[0])},l(l){e=C(l,"BUTTON",{});var a=k(e);s=j(a,n[0]),a.forEach(m)},m(l,a){z(l,e,a),g(e,s),r||(t=x(e,"click",n[2]),r=!0)},p(l,a){a&1&&L(s,l[0])},d(l){l&&m(e),r=!1,t()}}}function je(n){let e,s,r,t;return{c(){e=y("button"),s=V(n[0]),this.h()},l(l){e=C(l,"BUTTON",{class:!0});var a=k(e);s=j(a,n[0]),a.forEach(m),this.h()},h(){$(e,"class","active svelte-2ac6bb")},m(l,a){z(l,e,a),g(e,s),r||(t=x(e,"click",n[2]),r=!0)},p(l,a){a&1&&L(s,l[0])},d(l){l&&m(e),r=!1,t()}}}function Ae(n){let e;function s(l,a){return l[1]?je:Ve}let r=s(n),t=r(n);return{c(){t.c(),e=oe()},l(l){t.l(l),e=oe()},m(l,a){t.m(l,a),z(l,e,a)},p(l,[a]){r===(r=s(l))&&t?t.p(l,a):(t.d(1),t=r(l),t&&(t.c(),t.m(e.parentNode,e)))},i:X,o:X,d(l){l&&m(e),t.d(l)}}}function Le(n,e,s){let{tag:r}=e,{filterOn:t}=e;const l=be();function a(){l("click",{tag:r})}return n.$$set=c=>{"tag"in c&&s(0,r=c.tag),"filterOn"in c&&s(1,t=c.filterOn)},[r,t,a]}class Me extends Q{constructor(e){super(),R(this,e,Le,Ae,K,{tag:0,filterOn:1})}}function de(n,e,s){const r=n.slice();return r[8]=e[s],r}function ge(n){let e,s,r;return e=new Me({props:{tag:n[8],filterOn:n[2].has(n[8])}}),e.$on("click",n[5]),{c(){G(e.$$.fragment),s=V("Â ")},l(t){Z(e.$$.fragment,t),s=j(t,"Â ")},m(t,l){H(e,t,l),z(t,s,l),r=!0},p(t,l){const a={};l&16&&(a.tag=t[8]),l&20&&(a.filterOn=t[2].has(t[8])),e.$set(a)},i(t){r||(N(e.$$.fragment,t),r=!0)},o(t){A(e.$$.fragment,t),r=!1},d(t){t&&m(s),J(e,t)}}}function qe(n){let e,s,r,t,l,a,c,o,d="Ã—",h,i,v,B,P;function w(u){n[7](u)}let F={label:"Date"};n[1]!==void 0&&(F.sortOrder=n[1]),s=new $e({props:F}),ye.push(()=>ke(s,"sortOrder",w));let T=Y(n[4]),f=[];for(let u=0;u<T.length;u+=1)f[u]=ge(de(n,T,u));const U=u=>A(f[u],1,1,()=>{f[u]=null});return i=new Ue({props:{sources:n[3],navPage:n[0].navPage}}),{c(){e=y("div"),G(s.$$.fragment),t=D(),l=y("span"),a=D();for(let u=0;u<f.length;u+=1)f[u].c();c=D(),o=y("button"),o.textContent=d,h=D(),G(i.$$.fragment),this.h()},l(u){e=C(u,"DIV",{class:!0});var _=k(e);Z(s.$$.fragment,_),t=I(_),l=C(_,"SPAN",{style:!0}),k(l).forEach(m),a=I(_);for(let O=0;O<f.length;O+=1)f[O].l(_);c=I(_),o=C(_,"BUTTON",{style:!0,"data-svelte-h":!0}),_e(o)!=="svelte-1u08qqv"&&(o.textContent=d),_.forEach(m),h=I(u),Z(i.$$.fragment,u),this.h()},h(){S(l,"border-right","1px solid #aca6a2"),S(l,"margin","6px 10px"),S(o,"font-size","1.4rem"),S(o,"border","0"),S(o,"background-color","white"),S(o,"cursor","pointer"),S(o,"padding","1px 4px"),$(e,"class","button-row svelte-1o67gyl")},m(u,_){z(u,e,_),H(s,e,null),g(e,t),g(e,l),g(e,a);for(let O=0;O<f.length;O+=1)f[O]&&f[O].m(e,null);g(e,c),g(e,o),z(u,h,_),H(i,u,_),v=!0,B||(P=x(o,"click",n[6]),B=!0)},p(u,[_]){const O={};if(!r&&_&2&&(r=!0,O.sortOrder=u[1],Ce(()=>r=!1)),s.$set(O),_&52){T=Y(u[4]);let b;for(b=0;b<T.length;b+=1){const M=de(u,T,b);f[b]?(f[b].p(M,_),N(f[b],1)):(f[b]=ge(M),f[b].c(),N(f[b],1),f[b].m(e,c))}for(he(),b=T.length;b<f.length;b+=1)U(b);pe()}const q={};_&8&&(q.sources=u[3]),_&1&&(q.navPage=u[0].navPage),i.$set(q)},i(u){if(!v){N(s.$$.fragment,u);for(let _=0;_<T.length;_+=1)N(f[_]);N(i.$$.fragment,u),v=!0}},o(u){A(s.$$.fragment,u),f=f.filter(Boolean);for(let _=0;_<f.length;_+=1)A(f[_]);A(i.$$.fragment,u),v=!1},d(u){u&&(m(e),m(h)),J(s),me(f,u),J(i,u),B=!1,P()}}}function Ge(n,e,s){let r,t,{data:l}=e,a="ascending",c=new Set;function o(i){c.has(i.detail.tag)?c.delete(i.detail.tag):c.add(i.detail.tag),s(2,c)}function d(i){c.clear(),s(2,c)}function h(i){a=i,s(1,a)}return n.$$set=i=>{"data"in i&&s(0,l=i.data)},n.$$.update=()=>{n.$$.dirty&1&&s(4,r=Ee.filter(i=>!!l.pageSources.find(v=>v.tags.includes(i)))),n.$$.dirty&5&&s(3,t=c.size>0?l.pageSources.filter(i=>!!i.tags.find(v=>c.has(v))):l.pageSources),n.$$.dirty&10&&(t.sort((i,v)=>{switch(a){case"ascending":return i.date.getTime()-v.date.getTime();case"descending":return v.date.getTime()-i.date.getTime()}}),s(3,t),s(2,c),s(0,l),s(1,a))},[l,a,c,t,r,o,d,h]}class Ye extends Q{constructor(e){super(),R(this,e,Ge,qe,K,{data:0})}}export{Ye as component,Xe as universal};
