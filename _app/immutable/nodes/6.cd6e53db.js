import{e as ve}from"../chunks/index.93323930.js";import{s as K,f as k,a as I,l as U,g as y,h as C,r as _e,c as B,m as V,d as m,k as S,i as j,u as g,C as x,n as A,v as X,j as $,D as ne,w as me,e as oe,E as be,p as ke,F as ye}from"../chunks/scheduler.66eaffc2.js";import{S as Q,i as R,b as G,d as Z,m as H,a as N,t as q,e as J,g as he,c as pe,f as Ce}from"../chunks/index.fe2f9118.js";import{e as Y}from"../chunks/each.e59479a4.js";import{b as ie}from"../chunks/paths.031667d5.js";import{C as Pe,P as Oe}from"../chunks/PageCard.f83557ff.js";import{t as we}from"../chunks/constants.d4577d7b.js";const Ee=async({params:n,parent:e})=>{let s=(await e()).sources,r=(await e()).navPages,t=s.filter(a=>a.slug===n.caseId),l=r.find(a=>a.slug===n.caseId)||{slug:"",folder:"",name:"",title:"",subtitle:"",iref:""};if(t.length>0)return{pageSources:t,navPage:l};throw ve(404,"Not found")},Xe=Object.freeze(Object.defineProperty({__proto__:null,load:Ee},Symbol.toStringTag,{value:"Module"}));function Te(n){let e,s,r,t,l='<div class="AZ svelte-4visb">A</div> <div class="AZ svelte-4visb">Z</div>',a,c,o,d,h,i,v,D;return{c(){e=k("button"),s=k("div"),r=k("div"),t=k("div"),t.innerHTML=l,a=I(),c=k("div"),o=k("span"),d=U(n[1]),h=I(),i=U(n[0]),this.h()},l(P){e=y(P,"BUTTON",{});var T=C(e);s=y(T,"DIV",{style:!0});var z=C(s);r=y(z,"DIV",{style:!0});var E=C(r);t=y(E,"DIV",{style:!0,"data-svelte-h":!0}),_e(t)!=="svelte-15t2dzm"&&(t.innerHTML=l),a=B(E),c=y(E,"DIV",{style:!0});var f=C(c);o=y(f,"SPAN",{style:!0});var F=C(o);d=V(F,n[1]),F.forEach(m),h=B(f),i=V(f,n[0]),f.forEach(m),E.forEach(m),z.forEach(m),T.forEach(m),this.h()},h(){S(t,"display","table-cell"),S(t,"vertical-align","middle"),S(o,"font-size","1.2rem"),S(c,"display","table-cell"),S(c,"vertical-align","middle"),S(r,"display","table-row"),S(s,"white-space","nowrap")},m(P,T){j(P,e,T),g(e,s),g(s,r),g(r,t),g(r,a),g(r,c),g(c,o),g(o,d),g(c,h),g(c,i),v||(D=x(e,"click",n[2]),v=!0)},p(P,[T]){T&2&&A(d,P[1]),T&1&&A(i,P[0])},i:X,o:X,d(P){P&&m(e),v=!1,D()}}}function Se(n,e,s){let{sortOrder:r="ascending"}=e,{label:t}=e,l="ðŸ —";function a(){s(3,r=r==="ascending"?"descending":"ascending"),s(1,l=r==="ascending"?"ðŸ —":"ðŸ •")}return n.$$set=c=>{"sortOrder"in c&&s(3,r=c.sortOrder),"label"in c&&s(0,t=c.label)},[t,l,a,r]}class $e extends Q{constructor(e){super(),R(this,e,Se,Te,K,{sortOrder:3,label:0})}}function De(n){let e,s,r,t,l,a=n[0].media.toLocaleUpperCase()+"",c,o,d,h=n[0].headline+"",i,v,D,P,T=n[0].publisher+"",z,E,f,F=ce(n[0].date,[{day:"numeric"},{month:"short"},{year:"numeric"}])+"",u,_,O,M,b,L=n[0].tags.join(" â€¢ ")+"",W;return{c(){e=k("img"),r=I(),t=k("div"),l=k("p"),c=U(a),o=I(),d=k("p"),i=U(h),v=I(),D=k("p"),P=k("em"),z=U(T),E=I(),f=k("p"),u=U(F),_=I(),O=k("div"),M=I(),b=k("p"),W=U(L),this.h()},l(w){e=y(w,"IMG",{class:!0,src:!0,alt:!0}),r=B(w),t=y(w,"DIV",{class:!0});var p=C(t);l=y(p,"P",{class:!0});var ee=C(l);c=V(ee,a),ee.forEach(m),o=B(p),d=y(p,"P",{class:!0});var te=C(d);i=V(te,h),te.forEach(m),v=B(p),D=y(p,"P",{class:!0});var re=C(D);P=y(re,"EM",{});var se=C(P);z=V(se,T),se.forEach(m),re.forEach(m),E=B(p),f=y(p,"P",{class:!0});var le=C(f);u=V(le,F),le.forEach(m),_=B(p),O=y(p,"DIV",{style:!0}),C(O).forEach(m),M=B(p),b=y(p,"P",{class:!0});var ae=C(b);W=V(ae,L),ae.forEach(m),p.forEach(m),this.h()},h(){$(e,"class","source-card-image svelte-1suc0cu"),ne(e.src,s=(n[0].iref.match("^(http|data)")!==null?"":ie+"/img/")+n[0].iref)||$(e,"src",s),$(e,"alt","card"),$(l,"class","source-media svelte-1suc0cu"),$(d,"class","source-headline svelte-1suc0cu"),$(D,"class","source-publisher svelte-1suc0cu"),$(f,"class","source-date svelte-1suc0cu"),S(O,"flex-grow","1"),$(b,"class","source-tags svelte-1suc0cu"),$(t,"class","source-card-content svelte-1suc0cu")},m(w,p){j(w,e,p),j(w,r,p),j(w,t,p),g(t,l),g(l,c),g(t,o),g(t,d),g(d,i),g(t,v),g(t,D),g(D,P),g(P,z),g(t,E),g(t,f),g(f,u),g(t,_),g(t,O),g(t,M),g(t,b),g(b,W)},p(w,p){p&1&&!ne(e.src,s=(w[0].iref.match("^(http|data)")!==null?"":ie+"/img/")+w[0].iref)&&$(e,"src",s),p&1&&a!==(a=w[0].media.toLocaleUpperCase()+"")&&A(c,a),p&1&&h!==(h=w[0].headline+"")&&A(i,h),p&1&&T!==(T=w[0].publisher+"")&&A(z,T),p&1&&F!==(F=ce(w[0].date,[{day:"numeric"},{month:"short"},{year:"numeric"}])+"")&&A(u,F),p&1&&L!==(L=w[0].tags.join(" â€¢ ")+"")&&A(W,L)},d(w){w&&(m(e),m(r),m(t))}}}function Ie(n){let e,s;return e=new Pe({props:{href:n[0].href,target:"_blank",borderColor:n[1],$$slots:{default:[De]},$$scope:{ctx:n}}}),{c(){G(e.$$.fragment)},l(r){Z(e.$$.fragment,r)},m(r,t){H(e,r,t),s=!0},p(r,[t]){const l={};t&1&&(l.href=r[0].href),t&2&&(l.borderColor=r[1]),t&5&&(l.$$scope={dirty:t,ctx:r}),e.$set(l)},i(r){s||(N(e.$$.fragment,r),s=!0)},o(r){q(e.$$.fragment,r),s=!1},d(r){J(e,r)}}}function ce(n,e){function s(r){return new Intl.DateTimeFormat("en",r).format(n)}return e.map(s).join(" ")}function Be(n,e,s){let{source:r}=e,{borderColor:t="#d5d7db"}=e;return n.$$set=l=>{"source"in l&&s(0,r=l.source),"borderColor"in l&&s(1,t=l.borderColor)},[r,t]}class Ne extends Q{constructor(e){super(),R(this,e,Be,Ie,K,{source:0,borderColor:1})}}function ue(n,e,s){const r=n.slice();return r[3]=e[s],r}function fe(n){let e,s;return e=new Ne({props:{source:n[3]}}),{c(){G(e.$$.fragment)},l(r){Z(e.$$.fragment,r)},m(r,t){H(e,r,t),s=!0},p(r,t){const l={};t&1&&(l.source=r[3]),e.$set(l)},i(r){s||(N(e.$$.fragment,r),s=!0)},o(r){q(e.$$.fragment,r),s=!1},d(r){J(e,r)}}}function je(n){let e,s,r,t;s=new Oe({props:{navPage:n[1],pageType:"scenario",includeSubtitle:!0,borderColor:"#f8882d"}});let l=Y(n[0]),a=[];for(let o=0;o<l.length;o+=1)a[o]=fe(ue(n,l,o));const c=o=>q(a[o],1,1,()=>{a[o]=null});return{c(){e=k("ul"),G(s.$$.fragment),r=I();for(let o=0;o<a.length;o+=1)a[o].c();this.h()},l(o){e=y(o,"UL",{role:!0,class:!0});var d=C(e);Z(s.$$.fragment,d),r=B(d);for(let h=0;h<a.length;h+=1)a[h].l(d);d.forEach(m),this.h()},h(){$(e,"role","list"),$(e,"class","case-card-grid svelte-6zddwl")},m(o,d){j(o,e,d),H(s,e,null),g(e,r);for(let h=0;h<a.length;h+=1)a[h]&&a[h].m(e,null);t=!0},p(o,[d]){const h={};if(d&2&&(h.navPage=o[1]),s.$set(h),d&1){l=Y(o[0]);let i;for(i=0;i<l.length;i+=1){const v=ue(o,l,i);a[i]?(a[i].p(v,d),N(a[i],1)):(a[i]=fe(v),a[i].c(),N(a[i],1),a[i].m(e,null))}for(he(),i=l.length;i<a.length;i+=1)c(i);pe()}},i(o){if(!t){N(s.$$.fragment,o);for(let d=0;d<l.length;d+=1)N(a[d]);t=!0}},o(o){q(s.$$.fragment,o),a=a.filter(Boolean);for(let d=0;d<a.length;d+=1)q(a[d]);t=!1},d(o){o&&m(e),J(s),me(a,o)}}}function ze(n,e,s){let r,{sources:t=[]}=e,{navPage:l}=e;return n.$$set=a=>{"sources"in a&&s(0,t=a.sources),"navPage"in a&&s(2,l=a.navPage)},n.$$.update=()=>{n.$$.dirty&4&&s(1,r={...l,slug:l.slug+"/scenario",folder:""})},[t,r,l]}class Fe extends Q{constructor(e){super(),R(this,e,ze,je,K,{sources:0,navPage:2})}}function Ue(n){let e,s,r,t;return{c(){e=k("button"),s=U(n[0])},l(l){e=y(l,"BUTTON",{});var a=C(e);s=V(a,n[0]),a.forEach(m)},m(l,a){j(l,e,a),g(e,s),r||(t=x(e,"click",n[2]),r=!0)},p(l,a){a&1&&A(s,l[0])},d(l){l&&m(e),r=!1,t()}}}function Ve(n){let e,s,r,t;return{c(){e=k("button"),s=U(n[0]),this.h()},l(l){e=y(l,"BUTTON",{class:!0});var a=C(e);s=V(a,n[0]),a.forEach(m),this.h()},h(){$(e,"class","active svelte-3seqaz")},m(l,a){j(l,e,a),g(e,s),r||(t=x(e,"click",n[2]),r=!0)},p(l,a){a&1&&A(s,l[0])},d(l){l&&m(e),r=!1,t()}}}function qe(n){let e;function s(l,a){return l[1]?Ve:Ue}let r=s(n),t=r(n);return{c(){t.c(),e=oe()},l(l){t.l(l),e=oe()},m(l,a){t.m(l,a),j(l,e,a)},p(l,[a]){r===(r=s(l))&&t?t.p(l,a):(t.d(1),t=r(l),t&&(t.c(),t.m(e.parentNode,e)))},i:X,o:X,d(l){l&&m(e),t.d(l)}}}function Ae(n,e,s){let{tag:r}=e,{filterOn:t}=e;const l=be();function a(){l("click",{tag:r})}return n.$$set=c=>{"tag"in c&&s(0,r=c.tag),"filterOn"in c&&s(1,t=c.filterOn)},[r,t,a]}class Le extends Q{constructor(e){super(),R(this,e,Ae,qe,K,{tag:0,filterOn:1})}}function de(n,e,s){const r=n.slice();return r[8]=e[s],r}function ge(n){let e,s,r;return e=new Le({props:{tag:n[8],filterOn:n[2].has(n[8])}}),e.$on("click",n[5]),{c(){G(e.$$.fragment),s=U("Â ")},l(t){Z(e.$$.fragment,t),s=V(t,"Â ")},m(t,l){H(e,t,l),j(t,s,l),r=!0},p(t,l){const a={};l&16&&(a.tag=t[8]),l&20&&(a.filterOn=t[2].has(t[8])),e.$set(a)},i(t){r||(N(e.$$.fragment,t),r=!0)},o(t){q(e.$$.fragment,t),r=!1},d(t){t&&m(s),J(e,t)}}}function Me(n){let e,s,r,t,l,a,c,o,d="Ã—",h,i,v,D,P;function T(u){n[7](u)}let z={label:"Date"};n[1]!==void 0&&(z.sortOrder=n[1]),s=new $e({props:z}),ke.push(()=>Ce(s,"sortOrder",T));let E=Y(n[4]),f=[];for(let u=0;u<E.length;u+=1)f[u]=ge(de(n,E,u));const F=u=>q(f[u],1,1,()=>{f[u]=null});return i=new Fe({props:{sources:n[3],navPage:n[0].navPage}}),{c(){e=k("div"),G(s.$$.fragment),t=I(),l=k("span"),a=I();for(let u=0;u<f.length;u+=1)f[u].c();c=I(),o=k("button"),o.textContent=d,h=I(),G(i.$$.fragment),this.h()},l(u){e=y(u,"DIV",{class:!0});var _=C(e);Z(s.$$.fragment,_),t=B(_),l=y(_,"SPAN",{style:!0}),C(l).forEach(m),a=B(_);for(let O=0;O<f.length;O+=1)f[O].l(_);c=B(_),o=y(_,"BUTTON",{style:!0,"data-svelte-h":!0}),_e(o)!=="svelte-1u08qqv"&&(o.textContent=d),_.forEach(m),h=B(u),Z(i.$$.fragment,u),this.h()},h(){S(l,"border-right","1px solid #aca6a2"),S(l,"margin","6px 10px"),S(o,"font-size","1.4rem"),S(o,"border","0"),S(o,"background-color","white"),S(o,"cursor","pointer"),S(o,"padding","1px 4px"),$(e,"class","button-row svelte-1n0kejh")},m(u,_){j(u,e,_),H(s,e,null),g(e,t),g(e,l),g(e,a);for(let O=0;O<f.length;O+=1)f[O]&&f[O].m(e,null);g(e,c),g(e,o),j(u,h,_),H(i,u,_),v=!0,D||(P=x(o,"click",n[6]),D=!0)},p(u,[_]){const O={};if(!r&&_&2&&(r=!0,O.sortOrder=u[1],ye(()=>r=!1)),s.$set(O),_&52){E=Y(u[4]);let b;for(b=0;b<E.length;b+=1){const L=de(u,E,b);f[b]?(f[b].p(L,_),N(f[b],1)):(f[b]=ge(L),f[b].c(),N(f[b],1),f[b].m(e,c))}for(he(),b=E.length;b<f.length;b+=1)F(b);pe()}const M={};_&8&&(M.sources=u[3]),_&1&&(M.navPage=u[0].navPage),i.$set(M)},i(u){if(!v){N(s.$$.fragment,u);for(let _=0;_<E.length;_+=1)N(f[_]);N(i.$$.fragment,u),v=!0}},o(u){q(s.$$.fragment,u),f=f.filter(Boolean);for(let _=0;_<f.length;_+=1)q(f[_]);q(i.$$.fragment,u),v=!1},d(u){u&&(m(e),m(h)),J(s),me(f,u),J(i,u),D=!1,P()}}}function Ge(n,e,s){let r,t,{data:l}=e,a="ascending",c=new Set;function o(i){c.has(i.detail.tag)?c.delete(i.detail.tag):c.add(i.detail.tag),s(2,c)}function d(i){c.clear(),s(2,c)}function h(i){a=i,s(1,a)}return n.$$set=i=>{"data"in i&&s(0,l=i.data)},n.$$.update=()=>{n.$$.dirty&1&&s(4,r=we.filter(i=>!!l.pageSources.find(v=>v.tags.includes(i)))),n.$$.dirty&5&&s(3,t=c.size>0?l.pageSources.filter(i=>!!i.tags.find(v=>c.has(v))):l.pageSources),n.$$.dirty&10&&(t.sort((i,v)=>{switch(a){case"ascending":return i.date.getTime()-v.date.getTime();case"descending":return v.date.getTime()-i.date.getTime()}}),s(3,t),s(2,c),s(0,l),s(1,a))},[l,a,c,t,r,o,d,h]}class Ye extends Q{constructor(e){super(),R(this,e,Ge,Me,K,{data:0})}}export{Ye as component,Xe as universal};
