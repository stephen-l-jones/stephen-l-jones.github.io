import{e as ve}from"../chunks/index.93323930.js";import{e as be,t as ye}from"../chunks/constants.406077f4.js";import{s as K,f as y,a as D,l as j,g as C,h as k,u as _e,c as I,m as A,d as m,k as w,j as $,i as z,v as g,C as x,n as M,z as X,D as ne,B as me,e as oe,E as Ce,p as ke,F as Pe}from"../chunks/scheduler.9ba6fe32.js";import{S as Q,i as R,b as G,d as Z,m as H,a as N,t as L,e as J,g as he,c as pe,f as Oe}from"../chunks/index.6339a6b8.js";import{e as Y}from"../chunks/each.e59479a4.js";import{b as ie}from"../chunks/paths.e2f75245.js";import{C as Ee,P as Te}from"../chunks/PageCard.7b281513.js";const we=async({params:n,parent:e})=>{let r=(await e()).sources.filter(l=>l.slug===n.caseId),s=(await e()).navPages.find(l=>l.slug===n.caseId)||be;if(r.length>0||s.slug)return{pageSources:r,navPage:s};throw ve(404,"Not found")},Ye=Object.freeze(Object.defineProperty({__proto__:null,load:we},Symbol.toStringTag,{value:"Module"}));function Se(n){let e,a,r,t,s='<div class="AZ svelte-4visb">A</div> <div class="AZ svelte-4visb">Z</div>',l,c,o,d,h,i,v,B;return{c(){e=y("button"),a=y("div"),r=y("div"),t=y("div"),t.innerHTML=s,l=D(),c=y("div"),o=y("span"),d=j(n[1]),h=D(),i=j(n[0]),this.h()},l(P){e=C(P,"BUTTON",{});var S=k(e);a=C(S,"DIV",{style:!0});var U=k(a);r=C(U,"DIV",{style:!0});var T=k(r);t=C(T,"DIV",{style:!0,"data-svelte-h":!0}),_e(t)!=="svelte-15t2dzm"&&(t.innerHTML=s),l=I(T),c=C(T,"DIV",{style:!0});var f=k(c);o=C(f,"SPAN",{class:!0,style:!0});var V=k(o);d=A(V,n[1]),V.forEach(m),h=I(f),i=A(f,n[0]),f.forEach(m),T.forEach(m),U.forEach(m),S.forEach(m),this.h()},h(){w(t,"display","table-cell"),w(t,"vertical-align","middle"),$(o,"class","material-icons"),w(o,"font-size","1rem"),w(o,"vertical-align","top"),w(c,"display","table-cell"),w(c,"vertical-align","middle"),w(r,"display","table-row"),w(a,"white-space","nowrap")},m(P,S){z(P,e,S),g(e,a),g(a,r),g(r,t),g(r,l),g(r,c),g(c,o),g(o,d),g(c,h),g(c,i),v||(B=x(e,"click",n[2]),v=!0)},p(P,[S]){S&2&&M(d,P[1]),S&1&&M(i,P[0])},i:X,o:X,d(P){P&&m(e),v=!1,B()}}}function $e(n,e,a){let{sortOrder:r="ascending"}=e,{label:t}=e,s="south";function l(){a(3,r=r==="ascending"?"descending":"ascending"),a(1,s=r==="ascending"?"south":"north")}return n.$$set=c=>{"sortOrder"in c&&a(3,r=c.sortOrder),"label"in c&&a(0,t=c.label)},[t,s,l,r]}class Be extends Q{constructor(e){super(),R(this,e,$e,Se,K,{sortOrder:3,label:0})}}function De(n){let e,a,r,t,s,l=n[0].media.toLocaleUpperCase()+"",c,o,d,h=n[0].headline+"",i,v,B,P,S=n[0].publisher+"",U,T,f,V=ce(n[0].date,[{day:"numeric"},{month:"short"},{year:"numeric"}])+"",u,_,O,F,b,q=n[0].tags.join(" • ")+"",W;return{c(){e=y("img"),r=D(),t=y("div"),s=y("p"),c=j(l),o=D(),d=y("p"),i=j(h),v=D(),B=y("p"),P=y("em"),U=j(S),T=D(),f=y("p"),u=j(V),_=D(),O=y("div"),F=D(),b=y("p"),W=j(q),this.h()},l(E){e=C(E,"IMG",{class:!0,src:!0,alt:!0}),r=I(E),t=C(E,"DIV",{class:!0});var p=k(t);s=C(p,"P",{class:!0});var ee=k(s);c=A(ee,l),ee.forEach(m),o=I(p),d=C(p,"P",{class:!0});var te=k(d);i=A(te,h),te.forEach(m),v=I(p),B=C(p,"P",{class:!0});var re=k(B);P=C(re,"EM",{});var se=k(P);U=A(se,S),se.forEach(m),re.forEach(m),T=I(p),f=C(p,"P",{class:!0});var ae=k(f);u=A(ae,V),ae.forEach(m),_=I(p),O=C(p,"DIV",{style:!0}),k(O).forEach(m),F=I(p),b=C(p,"P",{class:!0});var le=k(b);W=A(le,q),le.forEach(m),p.forEach(m),this.h()},h(){$(e,"class","source-card-image svelte-1suc0cu"),ne(e.src,a=(n[0].iref.match("^(http|data)")!==null?"":ie+"/img/")+n[0].iref)||$(e,"src",a),$(e,"alt","card"),$(s,"class","source-media svelte-1suc0cu"),$(d,"class","source-headline svelte-1suc0cu"),$(B,"class","source-publisher svelte-1suc0cu"),$(f,"class","source-date svelte-1suc0cu"),w(O,"flex-grow","1"),$(b,"class","source-tags svelte-1suc0cu"),$(t,"class","source-card-content svelte-1suc0cu")},m(E,p){z(E,e,p),z(E,r,p),z(E,t,p),g(t,s),g(s,c),g(t,o),g(t,d),g(d,i),g(t,v),g(t,B),g(B,P),g(P,U),g(t,T),g(t,f),g(f,u),g(t,_),g(t,O),g(t,F),g(t,b),g(b,W)},p(E,p){p&1&&!ne(e.src,a=(E[0].iref.match("^(http|data)")!==null?"":ie+"/img/")+E[0].iref)&&$(e,"src",a),p&1&&l!==(l=E[0].media.toLocaleUpperCase()+"")&&M(c,l),p&1&&h!==(h=E[0].headline+"")&&M(i,h),p&1&&S!==(S=E[0].publisher+"")&&M(U,S),p&1&&V!==(V=ce(E[0].date,[{day:"numeric"},{month:"short"},{year:"numeric"}])+"")&&M(u,V),p&1&&q!==(q=E[0].tags.join(" • ")+"")&&M(W,q)},d(E){E&&(m(e),m(r),m(t))}}}function Ie(n){let e,a;return e=new Ee({props:{href:n[0].href,target:"_blank",borderColor:n[1],$$slots:{default:[De]},$$scope:{ctx:n}}}),{c(){G(e.$$.fragment)},l(r){Z(e.$$.fragment,r)},m(r,t){H(e,r,t),a=!0},p(r,[t]){const s={};t&1&&(s.href=r[0].href),t&2&&(s.borderColor=r[1]),t&5&&(s.$$scope={dirty:t,ctx:r}),e.$set(s)},i(r){a||(N(e.$$.fragment,r),a=!0)},o(r){L(e.$$.fragment,r),a=!1},d(r){J(e,r)}}}function ce(n,e){function a(r){return new Intl.DateTimeFormat("en",r).format(n)}return e.map(a).join(" ")}function Ne(n,e,a){let{source:r}=e,{borderColor:t="#d5d7db"}=e;return n.$$set=s=>{"source"in s&&a(0,r=s.source),"borderColor"in s&&a(1,t=s.borderColor)},[r,t]}class ze extends Q{constructor(e){super(),R(this,e,Ne,Ie,K,{source:0,borderColor:1})}}function ue(n,e,a){const r=n.slice();return r[3]=e[a],r}function fe(n){let e,a;return e=new ze({props:{source:n[3]}}),{c(){G(e.$$.fragment)},l(r){Z(e.$$.fragment,r)},m(r,t){H(e,r,t),a=!0},p(r,t){const s={};t&1&&(s.source=r[3]),e.$set(s)},i(r){a||(N(e.$$.fragment,r),a=!0)},o(r){L(e.$$.fragment,r),a=!1},d(r){J(e,r)}}}function Ue(n){let e,a,r,t;a=new Te({props:{navPage:n[1],pageType:"scenario",includeSubtitle:!0,borderColor:"#666666"}});let s=Y(n[0]),l=[];for(let o=0;o<s.length;o+=1)l[o]=fe(ue(n,s,o));const c=o=>L(l[o],1,1,()=>{l[o]=null});return{c(){e=y("ul"),G(a.$$.fragment),r=D();for(let o=0;o<l.length;o+=1)l[o].c();this.h()},l(o){e=C(o,"UL",{role:!0,class:!0});var d=k(e);Z(a.$$.fragment,d),r=I(d);for(let h=0;h<l.length;h+=1)l[h].l(d);d.forEach(m),this.h()},h(){$(e,"role","list"),$(e,"class","case-card-grid svelte-6zddwl")},m(o,d){z(o,e,d),H(a,e,null),g(e,r);for(let h=0;h<l.length;h+=1)l[h]&&l[h].m(e,null);t=!0},p(o,[d]){const h={};if(d&2&&(h.navPage=o[1]),a.$set(h),d&1){s=Y(o[0]);let i;for(i=0;i<s.length;i+=1){const v=ue(o,s,i);l[i]?(l[i].p(v,d),N(l[i],1)):(l[i]=fe(v),l[i].c(),N(l[i],1),l[i].m(e,null))}for(he(),i=s.length;i<l.length;i+=1)c(i);pe()}},i(o){if(!t){N(a.$$.fragment,o);for(let d=0;d<s.length;d+=1)N(l[d]);t=!0}},o(o){L(a.$$.fragment,o),l=l.filter(Boolean);for(let d=0;d<l.length;d+=1)L(l[d]);t=!1},d(o){o&&m(e),J(a),me(l,o)}}}function Ve(n,e,a){let r,{sources:t=[]}=e,{navPage:s}=e;return n.$$set=l=>{"sources"in l&&a(0,t=l.sources),"navPage"in l&&a(2,s=l.navPage)},n.$$.update=()=>{n.$$.dirty&4&&a(1,r={...s,slug:s.slug+"/scenario",folder:""})},[t,r,s]}class je extends Q{constructor(e){super(),R(this,e,Ve,Ue,K,{sources:0,navPage:2})}}function Ae(n){let e,a,r,t;return{c(){e=y("button"),a=j(n[0])},l(s){e=C(s,"BUTTON",{});var l=k(e);a=A(l,n[0]),l.forEach(m)},m(s,l){z(s,e,l),g(e,a),r||(t=x(e,"click",n[2]),r=!0)},p(s,l){l&1&&M(a,s[0])},d(s){s&&m(e),r=!1,t()}}}function Le(n){let e,a,r,t;return{c(){e=y("button"),a=j(n[0]),this.h()},l(s){e=C(s,"BUTTON",{class:!0});var l=k(e);a=A(l,n[0]),l.forEach(m),this.h()},h(){$(e,"class","active svelte-2ac6bb")},m(s,l){z(s,e,l),g(e,a),r||(t=x(e,"click",n[2]),r=!0)},p(s,l){l&1&&M(a,s[0])},d(s){s&&m(e),r=!1,t()}}}function Me(n){let e;function a(s,l){return s[1]?Le:Ae}let r=a(n),t=r(n);return{c(){t.c(),e=oe()},l(s){t.l(s),e=oe()},m(s,l){t.m(s,l),z(s,e,l)},p(s,[l]){r===(r=a(s))&&t?t.p(s,l):(t.d(1),t=r(s),t&&(t.c(),t.m(e.parentNode,e)))},i:X,o:X,d(s){s&&m(e),t.d(s)}}}function qe(n,e,a){let{tag:r}=e,{filterOn:t}=e;const s=Ce();function l(){s("click",{tag:r})}return n.$$set=c=>{"tag"in c&&a(0,r=c.tag),"filterOn"in c&&a(1,t=c.filterOn)},[r,t,l]}class Fe extends Q{constructor(e){super(),R(this,e,qe,Me,K,{tag:0,filterOn:1})}}function de(n,e,a){const r=n.slice();return r[8]=e[a],r}function ge(n){let e,a,r;return e=new Fe({props:{tag:n[8],filterOn:n[2].has(n[8])}}),e.$on("click",n[5]),{c(){G(e.$$.fragment),a=j(" ")},l(t){Z(e.$$.fragment,t),a=A(t," ")},m(t,s){H(e,t,s),z(t,a,s),r=!0},p(t,s){const l={};s&16&&(l.tag=t[8]),s&20&&(l.filterOn=t[2].has(t[8])),e.$set(l)},i(t){r||(N(e.$$.fragment,t),r=!0)},o(t){L(e.$$.fragment,t),r=!1},d(t){t&&m(a),J(e,t)}}}function Ge(n){let e,a,r,t,s,l,c,o,d="×",h,i,v,B,P;function S(u){n[7](u)}let U={label:"Date"};n[1]!==void 0&&(U.sortOrder=n[1]),a=new Be({props:U}),ke.push(()=>Oe(a,"sortOrder",S));let T=Y(n[4]),f=[];for(let u=0;u<T.length;u+=1)f[u]=ge(de(n,T,u));const V=u=>L(f[u],1,1,()=>{f[u]=null});return i=new je({props:{sources:n[3],navPage:n[0].navPage}}),{c(){e=y("div"),G(a.$$.fragment),t=D(),s=y("span"),l=D();for(let u=0;u<f.length;u+=1)f[u].c();c=D(),o=y("button"),o.textContent=d,h=D(),G(i.$$.fragment),this.h()},l(u){e=C(u,"DIV",{class:!0});var _=k(e);Z(a.$$.fragment,_),t=I(_),s=C(_,"SPAN",{style:!0}),k(s).forEach(m),l=I(_);for(let O=0;O<f.length;O+=1)f[O].l(_);c=I(_),o=C(_,"BUTTON",{style:!0,"data-svelte-h":!0}),_e(o)!=="svelte-1u08qqv"&&(o.textContent=d),_.forEach(m),h=I(u),Z(i.$$.fragment,u),this.h()},h(){w(s,"border-right","1px solid #aca6a2"),w(s,"margin","6px 10px"),w(o,"font-size","1.4rem"),w(o,"border","0"),w(o,"background-color","white"),w(o,"cursor","pointer"),w(o,"padding","1px 4px"),$(e,"class","button-row svelte-1o67gyl")},m(u,_){z(u,e,_),H(a,e,null),g(e,t),g(e,s),g(e,l);for(let O=0;O<f.length;O+=1)f[O]&&f[O].m(e,null);g(e,c),g(e,o),z(u,h,_),H(i,u,_),v=!0,B||(P=x(o,"click",n[6]),B=!0)},p(u,[_]){const O={};if(!r&&_&2&&(r=!0,O.sortOrder=u[1],Pe(()=>r=!1)),a.$set(O),_&52){T=Y(u[4]);let b;for(b=0;b<T.length;b+=1){const q=de(u,T,b);f[b]?(f[b].p(q,_),N(f[b],1)):(f[b]=ge(q),f[b].c(),N(f[b],1),f[b].m(e,c))}for(he(),b=T.length;b<f.length;b+=1)V(b);pe()}const F={};_&8&&(F.sources=u[3]),_&1&&(F.navPage=u[0].navPage),i.$set(F)},i(u){if(!v){N(a.$$.fragment,u);for(let _=0;_<T.length;_+=1)N(f[_]);N(i.$$.fragment,u),v=!0}},o(u){L(a.$$.fragment,u),f=f.filter(Boolean);for(let _=0;_<f.length;_+=1)L(f[_]);L(i.$$.fragment,u),v=!1},d(u){u&&(m(e),m(h)),J(a),me(f,u),J(i,u),B=!1,P()}}}function Ze(n,e,a){let r,t,{data:s}=e,l="ascending",c=new Set;function o(i){c.has(i.detail.tag)?c.delete(i.detail.tag):c.add(i.detail.tag),a(2,c)}function d(i){c.clear(),a(2,c)}function h(i){l=i,a(1,l)}return n.$$set=i=>{"data"in i&&a(0,s=i.data)},n.$$.update=()=>{n.$$.dirty&1&&a(4,r=ye.filter(i=>!!s.pageSources.find(v=>v.tags.includes(i)))),n.$$.dirty&5&&a(3,t=c.size>0?s.pageSources.filter(i=>!!i.tags.find(v=>c.has(v))):s.pageSources),n.$$.dirty&10&&(t.sort((i,v)=>{switch(l){case"ascending":return i.date.getTime()-v.date.getTime();case"descending":return v.date.getTime()-i.date.getTime()}}),a(3,t),a(2,c),a(0,s),a(1,l))},[s,l,c,t,r,o,d,h]}class xe extends Q{constructor(e){super(),R(this,e,Ze,Ge,K,{data:0})}}export{xe as component,Ye as universal};
